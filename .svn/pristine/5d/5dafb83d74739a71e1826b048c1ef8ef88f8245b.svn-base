<?php
class Controller_Base extends Controller {
	private $access_instance;
	protected $login_user;

	public function __beforeExecute($controller, $action){
		$this->access_instance = Model_Access::init();
		$this->login_user = $this->access_instance->getLoginInfo();

		//access control
		if(!$this->login_user){
// 			$route_match = $this->checkRouteMatch(array(
// 				'*' => '*'
// 			));
// 			if($route_match){
// 				$this->jumpTo();
// 			}
		}
	}

	protected function logout(){
		return $this->access_instance->logout();
	}

	final protected function checkLogin(){
		return $this->access_instance->checkLogin();
	}
}

?>